function t(t){return t.replace(/([A-Z])/g,"-$1").toLowerCase()}var e,s,n;e="my-counter",n=function(e){if(!e)return[];var s=[];return Object.keys(e).forEach((n=>{(null==e[n].observed||e[n].observed)&&s.push(t(n))})),s}((s={renderer:function(t,e){for(;e.firstChild;)e.removeChild(e.firstChild);var s=document.createElement("div");s.innerHTML=t,e.appendChild(s)},state:()=>({count:0}),dec(){this.state.count=this.state.count-1},inc(){this.state.count=this.state.count+1},mounted(){this.setupEvents()},updated(){this.setupEvents()},setupEvents(){this.querySelector(".btn-dec").addEventListener("click",this.dec),this.querySelector(".btn-inc").addEventListener("click",this.inc)},render(){return'\n          <style>\n              span {\n                width: 4rem;\n                display: inline-block;\n                text-align: center;\n                font-size: 200%;\n              }\n        \n              button {\n                width: 64px;\n                height: 64px;\n                border: none;\n                border-radius: 10px;\n                background-color: seagreen;\n                color: white;\n                font-size: 200%;\n              }\n          </style>\n          <button class="btn-dec">-</button>\n          <span>'.concat(this.state.count,'</span>\n          <button class="btn-inc">+</button>\n        ')}}).props),window.customElements.get(e)||window.customElements.define(e,class extends HTMLElement{static get observedAttributes(){return n}connectedCallback(){this._checkInit(),this._preprocess()}disconnectedCallback(){"function"==typeof this.removed&&(this.removed(),this.isRemovedCalled=!0)}attributeChangedCallback(){this._checkInit(),this._preprocess()}get initialised(){return this._props&&this._state&&this._computed&&this.templateRenderer}_checkInit(){this.initialised||this._init(s)}_init(t){if(this._props=t.props||{},this._computed=t.computed||{},t.state&&"function"!=typeof t.state)throw new Error("State must be a function!");this._state=t.state||{},this.computedCache={},this.status="render",this.props=this._processProps(),"function"==typeof this._state&&(this._state=this._state.bind(this)()),this.state=this._monitorState(this._state),this._processMethodsAndComputedProps(t),this.root=this._processRoot(t.root),this.slots=this._processSlots(),this.render=t.render||null,this.templateRenderer=t.renderer,this.template=null,this.created=t.created||null,this.mounted=t.mounted||null,this.updated=t.updated||null,this.removed=t.removed||null,this.isCreatedCalled=!1,this.isMountedCalled=!1,this.isRemovedCalled=!1,this.emit=(t,e)=>{!function(t,e){var s,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Object.assign({},{bubbles:!0,cancelable:!0,composed:!1},n);"composed"in CustomEvent.prototype?s=new CustomEvent(e,r):((s=document.createEvent("CustomEvent")).initCustomEvent(e,r.bubbles,r.cancelable,r.detail),Object.defineProperty(s,"composed",{value:r.composed})),t.dispatchEvent(s)}(this,t,{detail:e})},this._processInstanceProps(this._props),"function"!=typeof this.created||this.isCreatedCalled||(this.created(),this.isCreatedCalled=!0)}_processProps(){var t={};return Object.keys(this._props).forEach((e=>{var s={},n=this._props[e],r=this._getAttribute(e),o=null;if(null!=n.default&&(o=n.default),n.required&&null==r)null!=o?(console.info("No biggie, the required prop '".concat(e,"' has no value set, so the default has been set")),s[e]=o):(s[e]=null,console.error("The required prop '".concat(e,"' has no value set")));else switch(n.type){case String:default:s[e]=r||o;break;case Number:s[e]=null!=r?parseFloat(r):null!=o?o:0;break;case Boolean:s[e]=null!=r?"true"===r.toString():null!=o&&o;break;case Object:try{s[e]=null!=r?JSON.parse(r):null!=o?o:void 0}catch(t){s[e]=null!=o?o:void 0,console.error("An object parse issue occurred",t)}}t[e]=s[e],this._instanceProps&&this._instanceProps[e]&&(t[e]=this._instanceProps[e])})),t}_processMethodsAndComputedProps(t){var e=this,s=["state","created","mounted","updated","removed","render","renderer"],n=Object.keys(t);n.length&&n.forEach((n=>{e[n]||s.includes(n)||"function"!=typeof t[n]||(e[n]=t[n].bind(e)),"computed"===n&&this._processComputed(t[n])}))}_processRoot(t){switch(t){case"standard":default:return this;case"shadow":return this.attachShadow({mode:"open"});case"shadow:closed":return this.attachShadow({mode:"closed"})}}_processComputed(t){var e=this,s=Object.keys(t);s.length&&s.forEach((s=>{e[s]?console.warn("Computed property '".concat(s,"' already exists on the component instance")):Object.defineProperty(e,s,{get:()=>(e.computedCache[s]||(e.computedCache[s]=t[s].bind(e)()),e.computedCache[s])})}))}_processRender(){var t=this.render?this.render():void 0;t&&(this.template=t,this._updateRender())}_monitorState(t){var e=this;return new Proxy(t,{set:(t,s,n)=>(t[s]===n||(t[s]=n,e.computedCache={},"render"===e.status&&e._processRender()),!0)})}_processSlots(){var t=this.childNodes,e={default:[]};return t.length>0&&[...t].forEach((t=>{var s=t.getAttribute?t.getAttribute("slot"):null;s?e[s]=t:e.default.push(t)})),e}_getAttribute(e){try{return this.getAttribute(t(e))}catch(e){return console.error("A get prop error occurred",e),""}}_processInstanceProps(e){var s=this,n=Object.keys(e);e&&n.forEach((e=>{var n;s[e]&&(n=s[e],delete s[e]),Object.defineProperty(s,e,{get(){return this._instanceProps&&this._instanceProps[e]?this._instanceProps[e]:this.getAttribute(t(e))},set(s){return this._instanceProps||(this._instanceProps={}),this._instanceProps[e]=s,this.setAttribute(t(e),"object"==typeof s?JSON.stringify(s):s.toString()),this.attributeChangedCallback(),!0},enumerable:!0}),n&&(s[e]=n)}))}_preprocess(){this.computedCache={},this.props=this._processProps(),this._processRender()}_updateRender(){var t;this.template&&("object"!=typeof(t=this.template)&&"function"!=typeof t||"function"!=typeof t.then?(this.templateRenderer(this.template,this.root),this._callLifecycleMethods()):this.template.then((t=>{this.templateRenderer(t,this.root),this._callLifecycleMethods()})).catch((t=>console.error("A component render error occurred",t))))}_callLifecycleMethods(){"function"!=typeof this.mounted||this.isMountedCalled||(this.mounted(),this.isMountedCalled=!0),"function"==typeof this.updated&&this.isMountedCalled&&this.updated()}});
