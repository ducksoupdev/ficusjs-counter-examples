var e=e=>({get:t=>e.get(t),set:(t,r)=>(e.set(t,r),r)}),t=/([^\s\\>"'=]+)\s*=\s*(['"]?)$/,r=/^(?:area|base|br|col|embed|hr|img|input|keygen|link|menuitem|meta|param|source|track|wbr)$/i,n=/<[a-z][^>]+$/i,s=/>[^<>]*$/,a=/<([a-z]+[a-z0-9:._-]*)([^>]*?)(\/>)/gi,o=/\s+$/,i=(e,t)=>0<t--&&(n.test(e[t])||!s.test(e[t])&&i(e,t)),c=(e,t,n)=>r.test(t)?e:"<".concat(t).concat(n.replace(o,""),"></").concat(t,">"),{isArray:l}=Array,{indexOf:u,slice:d}=[],h=(e,t)=>111===e.nodeType?1/t<0?t?(e=>{var{firstChild:t,lastChild:r}=e,n=document.createRange();return n.setStartAfter(t),n.setEndAfter(r),n.deleteContents(),t})(e):e.lastChild:t?e.valueOf():e.firstChild:e,p=function(e){var t="fragment",r="template",n="content"in a(r)?function(e){var t=a(r);return t.innerHTML=e,t.content}:function(e){var n=a(t),o=a(r),i=null;if(/^[^\S]*?<(col(?:group)?|t(?:head|body|foot|r|d|h))/i.test(e)){var c=RegExp.$1;o.innerHTML="<table>"+e+"</table>",i=o.querySelectorAll(c)}else o.innerHTML=e,i=o.childNodes;return s(n,i),n};return function(e,t){return("svg"===t?o:n)(e)};function s(e,t){for(var r=t.length;r--;)e.appendChild(t[0])}function a(r){return r===t?e.createDocumentFragment():e.createElementNS("http://www.w3.org/1999/xhtml",r)}function o(e){var r=a(t),n=a("div");return n.innerHTML='<svg xmlns="http://www.w3.org/2000/svg">'+e+"</svg>",s(r,n.firstChild.childNodes),r}}(document),f=(e,t)=>{var{childNodes:r}=e;return r[t]},v=e=>{for(var t=[],{parentNode:r}=e;r;)t.push(u.call(r.childNodes,e)),r=(e=r).parentNode;return t},{createTreeWalker:m,importNode:b}=document,g=1!=b.length,y=g?(e,t,r)=>b.call(document,p(e,t,r),!0):p,_=g?e=>m.call(document,e,129,null,!1):e=>m.call(document,e,129),C=(e,t,r)=>((e,t,r,n,s)=>{for(var a=r.length,o=t.length,i=a,c=0,l=0,u=null;c<o||l<i;)if(o===c)for(var d=i<a?l?n(r[l-1],-0).nextSibling:n(r[i-l],0):s;l<i;)e.insertBefore(n(r[l++],1),d);else if(i===l)for(;c<o;)u&&u.has(t[c])||e.removeChild(n(t[c],-1)),c++;else if(t[c]===r[l])c++,l++;else if(t[o-1]===r[i-1])o--,i--;else if(t[c]===r[i-1]&&r[l]===t[o-1]){var h=n(t[--o],-1).nextSibling;e.insertBefore(n(r[l++],1),n(t[c++],-1).nextSibling),e.insertBefore(n(r[--i],1),h),t[o]=r[i]}else{if(!u){u=new Map;for(var p=l;p<i;)u.set(r[p],p++)}if(u.has(t[c])){var f=u.get(t[c]);if(l<f&&f<i){for(var v=c,m=1;++v<o&&v<i&&u.get(t[v])===f+m;)m++;if(m>f-l)for(var b=n(t[c],0);l<f;)e.insertBefore(n(r[l++],1),b);else e.replaceChild(n(r[l++],1),n(t[c++],-1))}else c++}else e.removeChild(n(t[c++],-1))}return r})(e.parentNode,t,r,h,e);function w(e){var{type:t,path:r}=e,n=r.reduceRight(f,this);return"node"===t?(e=>{var t,r,n=[],s=a=>{switch(typeof a){case"string":case"number":case"boolean":t!==a&&(t=a,r||(r=document.createTextNode("")),r.data=a,n=C(e,n,[r]));break;case"object":case"undefined":if(null==a){t!=a&&(t=a,n=C(e,n,[]));break}if(l(a)){t=a,0===a.length?n=C(e,n,[]):"object"==typeof a[0]?n=C(e,n,a):s(String(a));break}t!==a&&"ELEMENT_NODE"in a&&(t=a,n=C(e,n,11===a.nodeType?d.call(a.childNodes):[a]));break;case"function":s(a(e))}};return s})(n):"attr"===t?((e,t)=>{switch(t[0]){case"?":return((e,t,r)=>n=>{r!==!!n&&((r=!!n)?e.setAttribute(t,""):e.removeAttribute(t))})(e,t.slice(1),!1);case".":return((e,t)=>"dataset"===t?(e=>{var{dataset:t}=e;return e=>{for(var r in e){var n=e[r];null==n?delete t[r]:t[r]=n}}})(e):r=>{e[t]=r})(e,t.slice(1));case"o":if("n"===t[1])return((e,t)=>{var r,n=t.slice(2);return!(t in e)&&t.toLowerCase()in e&&(n=n.toLowerCase()),t=>{var s=l(t)?t:[t,!1];r!==s[0]&&(r&&e.removeEventListener(n,r,s[1]),(r=s[0])&&e.addEventListener(n,r,s[1]))}})(e,t)}switch(t){case"ref":return(e=>{var t;return r=>{t!==r&&(t=r,"function"==typeof r?r(e):r.current=e)}})(e);case"aria":return(e=>t=>{for(var r in t){var n="role"===r?r:"aria-"+r,s=t[r];null==s?e.removeAttribute(n):e.setAttribute(n,s)}})(e)}return((e,t)=>{var r,n=!0,s=document.createAttributeNS(null,t);return t=>{r!==t&&(null==(r=t)?n||(e.removeAttributeNode(s),n=!0):(s.value=t,n&&(e.setAttributeNodeNS(s),n=!1)))}})(e,t)})(n,e.name):(e=>{var t;return r=>{t!=r&&(t=r,e.textContent=null==r?"":r)}})(n)}var k=e(new WeakMap),A=/^(?:plaintext|script|style|textarea|title|xmp)$/i,E=(e,r)=>{for(var n=((e,r,n)=>{for(var s=[],{length:o}=e,l=function(r){var n=e[r-1];s.push(t.test(n)&&i(e,r)?n.replace(t,((e,t,n)=>"".concat("isµ").concat(r-1,"=").concat(n||'"').concat(t).concat(n?"":'"'))):"".concat(n,"\x3c!--").concat("isµ").concat(r-1,"--\x3e"))},u=1;u<o;u++)l(u);s.push(e[o-1]);var d=s.join("").trim();return n?d:d.replace(a,c)})(r,0,"svg"===e),s=y(n,e),o=_(s),l=[],u=r.length-1,d=0,h="isµ"+d;d<u;){var p=o.nextNode();if(!p)throw"bad template: "+n;if(8===p.nodeType)p.data===h&&(l.push({type:"node",path:v(p)}),h="isµ"+ ++d);else{for(;p.hasAttribute(h);)l.push({type:"attr",path:v(p),name:p.getAttribute(h)}),p.removeAttribute(h),h="isµ"+ ++d;A.test(p.tagName)&&p.textContent.trim()==="\x3c!--".concat(h,"--\x3e")&&(p.textContent="",l.push({type:"text",path:v(p)}),h="isµ"+ ++d)}}return{content:s,nodes:l}},x=(e,t)=>{var{type:r,template:n,values:s}=t,{length:a}=s;N(e,s,a);var{entry:o}=e;o&&o.template===n&&o.type===r||(e.entry=o=((e,t)=>{var{content:r,updates:n}=((e,t)=>{var{content:r,nodes:n}=k.get(t)||k.set(t,E(e,t)),s=b.call(document,r,!0);return{content:s,updates:n.map(w,s)}})(e,t);return{type:e,template:t,content:r,updates:n,wire:null}})(r,n));for(var{content:i,updates:c,wire:l}=o,u=0;u<a;u++)c[u](s[u]);return l||(o.wire=(e=>{var{childNodes:t}=e,{length:r}=t;if(r<2)return r?t[0]:e;var n=d.call(t,0);return{ELEMENT_NODE:1,nodeType:111,firstChild:n[0],lastChild:n[r-1],valueOf(){if(t.length!==r)for(var s=0;s<r;)e.appendChild(n[s++]);return e}}})(i))},N=(e,t,r)=>{for(var{stack:n}=e,s=0;s<r;s++){var a=t[s];a instanceof O?t[s]=x(n[s]||(n[s]={stack:[],entry:null,wire:null}),a):l(a)?N(n[s]||(n[s]={stack:[],entry:null,wire:null}),a,a.length):n[s]=null}r<n.length&&n.splice(r)};function O(e,t,r){this.type=e,this.template=t,this.values=r}var S,{create:P,defineProperties:j}=Object,M=t=>{var r=e(new WeakMap);return j((function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),s=1;s<r;s++)n[s-1]=arguments[s];return new O(t,e,n)}),{for:{value(e,n){var s=r.get(e)||r.set(e,P(null));return s[n]||(s[n]=(e=>function(r){for(var n=arguments.length,s=new Array(n>1?n-1:0),a=1;a<n;a++)s[a-1]=arguments[a];return x(e,{type:t,template:r,values:s})})({stack:[],entry:null,wire:null}))}},node:{value:function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),s=1;s<r;s++)n[s-1]=arguments[s];return x({stack:[],entry:null,wire:null},{type:t,template:e,values:n}).valueOf()}}})},R=e(new WeakMap),T=M("html");function L(e){return e.replace(/([A-Z])/g,"-$1").toLowerCase()}function $(e){return("object"==typeof e||"function"==typeof e)&&"function"==typeof e.then}M("svg"),function(e,t){var r=function(e){if(!e)return[];var t=[];return Object.keys(e).forEach((r=>{(null==e[r].observed||e[r].observed)&&t.push(L(r))})),t}(t.props);window.customElements.get(e)||window.customElements.define(e,class extends HTMLElement{static get observedAttributes(){return r}get componentTagName(){return e}connectedCallback(){this._checkInit(),this._preprocess()}disconnectedCallback(){"function"==typeof this.removed&&(this.removed(),this.isRemovedCalled=!0)}attributeChangedCallback(){this._checkInit(),this._preprocess()}get initialised(){return this._props&&this._state&&this._computed&&this.templateRenderer}_checkInit(){this.initialised||this._init(t)}_init(e){if(this._props=e.props||{},this._computed=e.computed||{},e.state&&"function"!=typeof e.state)throw new Error("State must be a function!");this._state=e.state||{},this.computedCache={},this.status="render",this.props=this._processProps(),"function"==typeof this._state&&(this._state=this._state.bind(this)()),this.state=this._monitorState(this._state),this._processMethodsAndComputedProps(e),this.root=this._processRoot(e.root),this.slots=this._processSlots(),this.render=e.render||null,this.templateRenderer=e.renderer,this.template=null,this.created=e.created||null,this.mounted=e.mounted||null,this.updated=e.updated||null,this.removed=e.removed||null,this.isCreatedCalled=!1,this.isMountedCalled=!1,this.isRemovedCalled=!1,this.emit=(e,t)=>{!function(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=Object.assign({},{bubbles:!0,cancelable:!0,composed:!1},n);"composed"in CustomEvent.prototype?r=new CustomEvent(t,s):((r=document.createEvent("CustomEvent")).initCustomEvent(t,s.bubbles,s.cancelable,s.detail),Object.defineProperty(r,"composed",{value:s.composed})),e.dispatchEvent(r)}(this,e,{detail:t})},this.setState=(e,t)=>{var r=e=>{if(e&&"object"==typeof e){var r=this.updated;for(var n in t&&(this.updated=()=>{setTimeout(t),this.updated=r||void 0}),this.status="transaction",e)this.state[n]&&this.state[n]===e[n]||(this.state[n]=e[n]);this.status="render",this._processRender()}},n=e(this.state);$(n)?n.then(r):r(n)},this._processInstanceProps(this._props),"function"!=typeof this.created||this.isCreatedCalled||(this.created(),this.isCreatedCalled=!0)}_processProps(){var e={};return Object.keys(this._props).forEach((t=>{var r={},n=this._props[t],s=this._getAttribute(t),a=null;if(null!=n.default&&(a=n.default),n.required&&null==s)null!=a?(console.info("No biggie, the required prop '".concat(t,"' has no value set, so the default has been set")),r[t]=a):(r[t]=null,console.error("The required prop '".concat(t,"' has no value set")));else switch(n.type){case String:default:r[t]=s||a;break;case Number:r[t]=null!=s?parseFloat(s):null!=a?a:0;break;case Boolean:r[t]=null!=s?"true"===s.toString():null!=a&&a;break;case Object:try{r[t]=null!=s?JSON.parse(s):null!=a?a:void 0}catch(e){r[t]=null!=a?a:void 0,console.error("An object parse issue occurred",e)}}e[t]=r[t],this._instanceProps&&this._instanceProps[t]&&(e[t]=this._instanceProps[t])})),e}_processMethodsAndComputedProps(e){var t=this,r=["state","created","mounted","updated","removed","render","renderer"],n=Object.keys(e);n.length&&n.forEach((n=>{t[n]||r.includes(n)||"function"!=typeof e[n]||(t[n]=e[n].bind(t)),"computed"===n&&this._processComputed(e[n])}))}_processRoot(e){switch(e){case"standard":default:return this;case"shadow":return this.attachShadow({mode:"open"});case"shadow:closed":return this.attachShadow({mode:"closed"})}}_processComputed(e){var t=this,r=Object.keys(e);r.length&&r.forEach((r=>{t[r]?console.warn("Computed property '".concat(r,"' already exists on the component instance")):Object.defineProperty(t,r,{get:()=>(t.computedCache[r]||(t.computedCache[r]=e[r].bind(t)()),t.computedCache[r])})}))}_processRender(){var e=this.render?this.render():void 0;e&&(this.template=e,this._updateRender())}_monitorState(e){var t=this;return new Proxy(e,{set:(e,r,n)=>(e[r]===n||(e[r]=n,t.computedCache={},"render"===t.status&&t._processRender()),!0)})}_processSlots(){var e=this.childNodes,t={default:[]};return e.length>0&&[...e].forEach((e=>{var r=e.getAttribute?e.getAttribute("slot"):null;r?t[r]=e:t.default.push(e)})),t}_getAttribute(e){try{return this.getAttribute(L(e))}catch(e){return console.error("A get prop error occurred",e),""}}_processInstanceProps(e){var t=this,r=Object.keys(e);e&&r.forEach((e=>{var r;t[e]&&(r=t[e],delete t[e]),Object.defineProperty(t,e,{get(){return this._instanceProps&&this._instanceProps[e]?this._instanceProps[e]:this.getAttribute(L(e))},set(t){return this._instanceProps||(this._instanceProps={}),this._instanceProps[e]=t,this.setAttribute(L(e),"object"==typeof t?JSON.stringify(t):t.toString()),this.attributeChangedCallback(),!0},enumerable:!0}),r&&(t[e]=r)}))}_preprocess(){this.computedCache={},this.props=this._processProps(),this._processRender()}_updateRender(){this.template&&($(this.template)?this.template.then((e=>{this.templateRenderer(e,this.root),this._callLifecycleMethods()})).catch((e=>console.error("A component render error occurred",e))):(this.templateRenderer(this.template,this.root),this._callLifecycleMethods()))}_callLifecycleMethods(){"function"!=typeof this.mounted||this.isMountedCalled||this.mounted(),this.isMountedCalled=!0,"function"==typeof this.updated&&this.isMountedCalled&&this.updated()}})}("my-counter",{renderer:function(e,t){((e,t)=>{var r="function"==typeof t?t():t,n=R.get(e)||R.set(e,{stack:[],entry:null,wire:null}),s=r instanceof O?x(n,r):r;s!==n.wire&&(n.wire=s,e.textContent="",e.appendChild(s.valueOf()))})(t,e)},state:()=>({count:0}),dec(){this.state.count=this.state.count-1},inc(){this.state.count=this.state.count+1},render(){return T(S||(e=['\n          <style>\n              span {\n                width: 4rem;\n                display: inline-block;\n                text-align: center;\n                font-size: 200%;\n              }\n        \n              button {\n                width: 64px;\n                height: 64px;\n                border: none;\n                border-radius: 10px;\n                background-color: seagreen;\n                color: white;\n                font-size: 200%;\n              }\n          </style>\n          <button onclick="','">-</button>\n          <span>','</span>\n          <button onclick="','">+</button>\n        '],t||(t=e.slice(0)),S=Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))),this.dec,this.state.count,this.inc);var e,t}});
